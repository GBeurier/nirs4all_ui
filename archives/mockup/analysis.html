<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NIRSCAPE - NIRS Analysis Platform</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
    <style>
        .sidebar-item.active {
            background-color: #3b82f6;
            color: white;
        }
        .component-card {
            transition: all 0.2s ease-in-out;
        }
        .component-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .param-accordion {
            transition: max-height 0.3s ease-out;
            overflow: hidden;
        }
        .drag-over {
            border: 2px dashed #3b82f6;
            background-color: #f0f9ff;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">
    <!-- Navigation Sidebar -->
    <div class="flex h-screen">
        <div class="w-64 bg-white shadow-lg border-r border-gray-200">
            <div class="p-6 border-b border-gray-200">
                <h1 class="text-xl font-bold text-gray-800 flex items-center">
                    <i data-feather="activity" class="mr-2 text-blue-600"></i>
                    NIRSCAPE
                </h1>
                <p class="text-sm text-gray-600 mt-1">NIRS Analysis Platform</p>
            </div>
            <nav class="mt-6">
                <a href="workspace.html" class="sidebar-item flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 transition-colors">
                    <i data-feather="folder" class="mr-3"></i>
                    Workspace
                </a>
                <a href="pipeline.html" class="sidebar-item flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 transition-colors">
                    <i data-feather="git-branch" class="mr-3"></i>
                    Pipeline Editor
                </a>
                <a href="predictions.html" class="sidebar-item flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 transition-colors">
                    <i data-feather="database" class="mr-3"></i>
                    Predictions DB
                </a>
                <a href="dashboard.html" class="sidebar-item flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 transition-colors">
                    <i data-feather="bar-chart-2" class="mr-3"></i>
                    Prediction Dashboard
                </a>
                <a href="analysis.html" class="sidebar-item flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 transition-colors">
                    <i data-feather="layers" class="mr-3"></i>
                    Analysis Tools
                </a>
            </nav>
        </div>
    <!-- Main Content -->
    <div class="flex-1 overflow-auto">
        <div class="p-8">
            <div class="max-w-6xl mx-auto">
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-900 mb-2">Analysis Tools</h1>
                    <p class="text-gray-600">Advanced analytical tools for NIRS data exploration and visualization</p>
                </div>

                <!-- Tabs Navigation -->
                <div class="border-b border-gray-200 mb-6">
                    <nav class="-mb-px flex space-x-8">
                        <button class="tab-button py-2 px-1 border-b-2 font-medium text-sm border-blue-500 text-blue-600" data-tab="time-series">
                            Time Series Analysis
                        </button>
                        <button class="tab-button py-2 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="frequency">
                            Frequency Analysis
                        </button>
                        <button class="tab-button py-2 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="correlation">
                            Correlation Analysis
                        </button>
                        <button class="tab-button py-2 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="clustering">
                            Clustering
                        </button>
                        <button class="tab-button py-2 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-tab="statistical">
                            Statistical Tests
                        </button>
                    </nav>
                </div>

                <!-- Tab Content -->
                <div id="tab-content">
                    <!-- Time Series Analysis Tab -->
                    <div id="time-series-tab" class="tab-panel active">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <div class="lg:col-span-2">
                                <div class="bg-white rounded-lg shadow-md p-6">
                                    <h3 class="text-lg font-semibold mb-4">Time Series Visualization</h3>
                                    <div id="time-series-plot" class="h-96 bg-gray-50 rounded-lg flex items-center justify-center">
                                        <p class="text-gray-500">Select dataset and parameters to generate plot</p>
                                    </div>
                                </div>
                            </div>
                            <div class="lg:col-span-1">
                                <div class="bg-white rounded-lg shadow-md p-6">
                                    <h3 class="text-lg font-semibold mb-4">Configuration</h3>
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Dataset</label>
                                            <select class="w-full border border-gray-300 rounded-lg px-3 py-2">
                                                <option>Select Dataset</option>
                                                <option>cortical_activity_001</option>
                                                <option>motor_task_study</option>
                                                <option>resting_state_analysis</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Channels</label>
                                            <select class="w-full border border-gray-300 rounded-lg px-3 py-2" multiple>
                                                <option>Channel 1 (Fp1)</option>
                                                <option>Channel 2 (Fp2)</option>
                                                <option>Channel 3 (C3)</option>
                                                <option>Channel 4 (C4)</option>
                                                <option>Channel 5 (O1)</option>
                                                <option>Channel 6 (O2)</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Time Range</label>
                                            <div class="flex space-x-2">
                                                <input type="number" placeholder="Start (s)" class="w-1/2 border border-gray-300 rounded-lg px-3 py-2">
                                                <input type="number" placeholder="End (s)" class="w-1/2 border border-gray-300 rounded-lg px-3 py-2">
                                            </div>
                                        </div>
                                        <button class="w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                                            Generate Plot
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Frequency Analysis Tab -->
                    <div id="frequency-tab" class="tab-panel hidden">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <div class="lg:col-span-2">
                                <div class="bg-white rounded-lg shadow-md p-6">
                                    <h3 class="text-lg font-semibold mb-4">Frequency Domain Analysis</h3>
                                    <div id="frequency-plot" class="h-96 bg-gray-50 rounded-lg flex items-center justify-center">
                                        <p class="text-gray-500">Frequency analysis plot will appear here</p>
                                    </div>
                                </div>
                            </div>
                            <div class="lg:col-span-1">
                                <div class="bg-white rounded-lg shadow-md p-6">
                                    <h3 class="text-lg font-semibold mb-4">FFT Parameters</h3>
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Window Size</label>
                                            <input type="number" value="1024" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Overlap</label>
                                            <input type="number" value="512" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Frequency Range</label>
                                            <div class="flex space-x-2">
                                                <input type="number" placeholder="0.01" class="w-1/2 border border-gray-300 rounded-lg px-3 py-2">
                                                <input type="number" placeholder="0.5" class="w-1/2 border border-gray-300 rounded-lg px-3 py-2">
                                            </div>
                                        </div>
                                        <button class="w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                                            Compute FFT
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Correlation Analysis Tab -->
                    <div id="correlation-tab" class="tab-panel hidden">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <div class="lg:col-span-2">
                                <div class="bg-white rounded-lg shadow-md p-6">
                                    <h3 class="text-lg font-semibold mb-4">Channel Correlation Matrix</h3>
                                    <div id="correlation-plot" class="h-96 bg-gray-50 rounded-lg flex items-center justify-center">
                                        <p class="text-gray-500">Correlation matrix heatmap will appear here</p>
                                    </div>
                                </div>
                            </div>
                            <div class="lg:col-span-1">
                                <div class="bg-white rounded-lg shadow-md p-6">
                                    <h3 class="text-lg font-semibold mb-4">Correlation Settings</h3>
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Correlation Method</label>
                                            <select class="w-full border border-gray-300 rounded-lg px-3 py-2">
                                                <option>Pearson</option>
                                                <option>Spearman</option>
                                                <option>Kendall</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Time Window</label>
                                            <input type="number" value="30" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                                        </div>
                                        <div class="flex items-center">
                                            <input type="checkbox" id="normalize" class="mr-2">
                                            <label for="normalize" class="text-sm text-gray-700">Normalize data</label>
                                        </div>
                                        <button class="w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                                            Compute Correlations
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Clustering Tab -->
                    <div id="clustering-tab" class="tab-panel hidden">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <div class="lg:col-span-2">
                                <div class="bg-white rounded-lg shadow-md p-6">
                                    <h3 class="text-lg font-semibold mb-4">Clustering Results</h3>
                                    <div id="clustering-plot" class="h-96 bg-gray-50 rounded-lg flex items-center justify-center">
                                        <p class="text-gray-500">Clustering visualization will appear here</p>
                                    </div>
                                </div>
                            </div>
                            <div class="lg:col-span-1">
                                <div class="bg-white rounded-lg shadow-md p-6">
                                    <h3 class="text-lg font-semibold mb-4">Clustering Parameters</h3>
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Algorithm</label>
                                            <select class="w-full border border-gray-300 rounded-lg px-3 py-2">
                                                <option>K-Means</option>
                                                <option>Hierarchical</option>
                                                <option>DBSCAN</option>
                                                <option>Gaussian Mixture</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Number of Clusters</label>
                                            <input type="number" value="3" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Features</label>
                                            <select class="w-full border border-gray-300 rounded-lg px-3 py-2" multiple>
                                                <option>Mean</option>
                                                <option>Standard Deviation</option>
                                                <option>Variance</option>
                                                <option>Skewness</option>
                                                <option>Kurtosis</option>
                                            </select>
                                        </div>
                                        <button class="w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                                            Run Clustering
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Statistical Tests Tab -->
                    <div id="statistical-tab" class="tab-panel hidden">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <div class="lg:col-span-2">
                                <div class="bg-white rounded-lg shadow-md p-6">
                                    <h3 class="text-lg font-semibold mb-4">Statistical Test Results</h3>
                                    <div id="statistical-results" class="h-96 bg-gray-50 rounded-lg p-4 overflow-auto">
                                        <p class="text-gray-500">Statistical test results will appear here</p>
                                    </div>
                                </div>
                            </div>
                            <div class="lg:col-span-1">
                                <div class="bg-white rounded-lg shadow-md p-6">
                                    <h3 class="text-lg font-semibold mb-4">Test Configuration</h3>
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Test Type</label>
                                            <select class="w-full border border-gray-300 rounded-lg px-3 py-2">
                                                <option>T-Test</option>
                                                <option>ANOVA</option>
                                                <option>Mann-Whitney U</option>
                                                <option>Kruskal-Wallis</option>
                                                <option>Chi-Square</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Group 1</label>
                                            <select class="w-full border border-gray-300 rounded-lg px-3 py-2" multiple>
                                                <option>Resting State</option>
                                                <option>Task Condition A</option>
                                                <option>Task Condition B</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Group 2</label>
                                            <select class="w-full border border-gray-300 rounded-lg px-3 py-2" multiple>
                                                <option>Resting State</option>
                                                <option>Task Condition A</option>
                                                <option>Task Condition B</option>
                                            </select>
                                        </div>
                                        <div class="flex items-center">
                                            <input type="checkbox" id="multiple_comparisons" class="mr-2">
                                            <label for="multiple_comparisons" class="text-sm text-gray-700">Correct for multiple comparisons</label>
                                        </div>
                                        <button class="w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                                            Run Test
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    <script>
        feather.replace();
        // Set active navigation item
        document.querySelectorAll('.sidebar-item').forEach(item => {
            if (item.getAttribute('href') === 'analysis.html') {
                item.classList.add('active');
            }
        });

        // Tab functionality
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                // Remove active classes from all tabs
                document.querySelectorAll('.tab-button').forEach(btn => {
                    btn.classList.remove('border-blue-500', 'text-blue-600');
                    btn.classList.add('border-transparent', 'text-gray-500');
                });
                
                // Hide all tab panels
                document.querySelectorAll('.tab-panel').forEach(panel => {
                    panel.classList.add('hidden');
                    panel.classList.remove('active');
                });
                
                // Activate current tab
                button.classList.remove('border-transparent', 'text-gray-500');
                button.classList.add('border-blue-500', 'text-blue-600');
                
                // Show corresponding panel
                const tabId = button.getAttribute('data-tab');
                const panel = document.getElementById(`${tabId}-tab`);
                panel.classList.remove('hidden');
                panel.classList.add('active');
            });
        });
    </script>
</body>
</html>
